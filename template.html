<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>{{ name }} â€” Resume</title>
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Lato:wght@400;700&display=swap');
    body { font-family: 'Lato', sans-serif; color:#222; margin:0; padding:0; font-size:11pt; }
    .container { max-width: 8.5in; margin:auto; padding:0.6in; }
    .header { text-align:center; border-bottom:2px solid #e8eef3; padding-bottom:10px; margin-bottom:18px; }
    .name { font-size:26pt; font-weight:700; margin:0; color:#2c3e50; letter-spacing:.5px; }
    .contact { font-size:10pt; color:#475569; margin-top:6px; }
    .section-header { font-size:13pt; font-weight:700; color:#2c3e50; border-bottom:1.5px solid #e8eef3; padding-bottom:4px; margin:18px 0 10px; }
    .entry { margin-bottom: 14px; }
    .entry-header { display:flex; justify-content:space-between; align-items:flex-start; margin-bottom: 4px; }
    .entry-title { font-size:11pt; font-weight:700; }
    .entry-company { font-style: italic; color:#334155; }
    .entry-date { font-size:10pt; color:#475569; white-space:nowrap; }
    .details{ margin-top:4px; }
    .details ul { padding-left: 18px; margin:0; list-style-type: disc; }
    .details ul li { margin-bottom:4px; line-height: 1.4; }
    .skills-table { width:100%; border-collapse:collapse; }
    .skills-table td { padding:6px 0; border-bottom:1px solid #eef2f6; vertical-align:top; }
    .skill-category { width:25%; font-weight:700; color:#2c3e50;}
    p{ margin:0; }
  </style>
</head>
<body>
  <div class="container">
    <div class="header">
      <p class="name">{{ name }}</p>
      <p class="contact">{{ contact }}</p>
    </div>
    {% for title, content in sections.items() %}
      <div class="section">
        <p class="section-header">{{ title }}</p>
        {# ----- Work Experience (list of objects) ----- #}
        {% if 'EXPERIENCE' in title.upper() and content is iterable and content is not string %}
          {% for entry in content %}
            <div class="entry">
              <div class="entry-header">
                <div>
                  <p class="entry-title">{{ entry.role }}</p>
                  <p class="entry-company">{{ entry.company }}</p>
                </div>
                <p class="entry-date">{{ entry.date }}</p>
              </div>
              <div class="details">
                <ul>
                {% for detail in entry.details %}
                  <li>{{ detail }}</li>
                {% endfor %}
                </ul>
              </div>
            </div>
          {% endfor %}
        {# ----- Skills (mapping/dict) ----- #}
        {% elif 'SKILLS' in title.upper() and content is mapping %}
          <table class="skills-table">
            {% for category, items in content.items() %}
            <tr>
              <td class="skill-category">{{ category }}</td>
              <td>{{ items }}</td>
            </tr>
            {% endfor %}
          </table>
        {# ----- Generic list sections (Education/Certs) ----- #}
        {% elif content is iterable and content is not string %}
          <div class="details">
            <ul>
              {% for item in content %}
                <li>{{ item }}</li>
              {% endfor %}
            </ul>
          </div>
        {# ----- Fallback: plain paragraph (Summary) ----- #}
        {% else %}
          <p>{{ content }}</p>
        {% endif %}
      </div>
    {% endfor %}
  </div>
</body>
</html>